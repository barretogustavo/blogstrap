<!-- Ads show-article -->
<script 
  async 
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5794959318667913"
  crossorigin="anonymous"></script>
<ins
    class="adsbygoogle"
    style="display:block; text-align:center; margin: 1rem 0;"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-5794959318667913"
    data-ad-slot="6716769782"
  >
</ins>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<article class="blog-post">
  <h2 class="blog-post-title"><%= @article.title%></h2>

  <p class="blog-post-meta">
    <%= render 'article_detail', article: @article %>
  </p>

  <div>
    <%= raw @article.body %>
  </div>

  <%= link_to t('app.button.edit'), 
    edit_article_path(@article), 
    class: 'btn btn-primary btn-sm' if policy(@article).update?
  %>

  <%= link_to t('app.button.back'), 
      articles_path, 
      class: 'btn btn-secondary btn-sm' 
  %>

  <%= link_to t('app.button.destroy'), 
    article_path(@article),
    data: { 
      turbo_method: :delete,
      turbo_confirm: t('app.message.confirm_destroy')
    },
    class: 'btn btn-danger btn-sm' if policy(@article).destroy?
  %>

  <!-- Ads show-article-footer -->
  <script 
    async 
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5794959318667913"
    crossorigin="anonymous"
  ></script>
  <ins 
    class="adsbygoogle"
    style="display:block; text-align:center; margin: 1rem 0;"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-5794959318667913"
    data-ad-slot="3326806223"
  ></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  <h2 class="mt-3"><%= t('.comments') %></h2>
  <% if @article.comments.present? %>
    <%= render @article.comments %>
  <% else %>
    <p><%= t('.empty') %></p>
  <% end %>

  <h2><%= t('.add_comment')%></h2>
  <% if policy(:comment).create? %>
    <%= render 'comments/form' %>
  <% else %>
    Please, 
    <%= link_to 'login', user_session_path %> or 
    <%= link_to 'sign-up', new_user_registration_path%>
    to create a comment.
  <% end%>
</article>
